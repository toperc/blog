{"title":"Java多态小记","date":"2021-02-07T16:14:49.000Z","date_formatted":{"ll":"2021年2月8日","L":"2021/02/08","MM-DD":"02-08"},"link":"posts/1612714489","comments":true,"tags":["Java","多态"],"categories":["Java"],"updated":"2021-02-24T10:27:30.305Z","content":"<p>Java三大特性：封装、继承和多态，随口就能说出，至于封装和继承太简单了，多态似乎有点迷糊，可以说多态就是封装和继承的组合体，今天回顾一下多态的知识。</p>\n<a id=\"more\"></a>\n<h2 id=\"多态解释\">多态解释<a title=\"#多态解释\" href=\"#多态解释\"></a></h2>\n<p>多态是同一个行为具有多个不同表现形式或形态的能力。</p>\n<p><img src=\"https://note.youdao.com/yws/api/personal/file/A09FF9CF548D4511BC405244AF31AEFD?method=download&amp;shareKey=b303414714e0fda44ecd3e64110da6e5\" alt=\"多态图示\" class=\"φbs\"></p>\n<h2 id=\"实现形式\">实现形式<a title=\"#实现形式\" href=\"#实现形式\"></a></h2>\n<ul>\n<li>实现同一个接口，不同的实例，相同的动作，干不一样的事。</li>\n<li>继承同一个父类，重写父类方法，干不同的事。</li>\n</ul>\n<h2 id=\"多态的优点\">多态的优点<a title=\"#多态的优点\" href=\"#多态的优点\"></a></h2>\n<ol>\n<li>消除类型之间的耦合关系</li>\n<li>可替换性</li>\n<li>可扩充性</li>\n<li>接口性</li>\n<li>灵活性</li>\n<li>简化性</li>\n</ol>\n<p>直接的好处：可以使程序有良好的扩展，并可以对所有类的对象进行通用处理。</p>\n<h2 id=\"多态存在的三个必要条件\">多态存在的三个必要条件<a title=\"#多态存在的三个必要条件\" href=\"#多态存在的三个必要条件\"></a></h2>\n<ul>\n<li>继承</li>\n<li>重写</li>\n<li>父类引用指向子类对象：Parent p = new Child();</li>\n</ul>\n<h2 id=\"多态注意点\">多态注意点<a title=\"#多态注意点\" href=\"#多态注意点\"></a></h2>\n<p>当使用多态方式调用方法时，首先检查父类中是否有该方法，如果没有，则编译错误；如果有，再去调用子类的同名方法。</p>\n<h2 id=\"一个栗子\">一个栗子<a title=\"#一个栗子\" href=\"#一个栗子\"></a></h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">show</span><span class=\"params\">(D obj)</span> </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> (<span class=\"string\">&quot;A and D&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">show</span><span class=\"params\">(A obj)</span> </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> (<span class=\"string\">&quot;A and A&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">show</span><span class=\"params\">(B obj)</span> </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> (<span class=\"string\">&quot;B and B&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">show</span><span class=\"params\">(A obj)</span> </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> (<span class=\"string\">&quot;B and A&quot;</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">C</span> <span class=\"keyword\">extends</span> <span class=\"title\">B</span> </span>&#123;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">D</span> <span class=\"keyword\">extends</span> <span class=\"title\">B</span> </span>&#123;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">\t\tA a1 = <span class=\"keyword\">new</span> A();  </span><br><span class=\"line\">        A a2 = <span class=\"keyword\">new</span> B();  </span><br><span class=\"line\">        B b = <span class=\"keyword\">new</span> B();  </span><br><span class=\"line\">        C c = <span class=\"keyword\">new</span> C();   </span><br><span class=\"line\">        D d = <span class=\"keyword\">new</span> D(); </span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(a1.show(b));   </span><br><span class=\"line\">        System.out.println(a1.show(c));    </span><br><span class=\"line\">        System.out.println(a1.show(d));    </span><br><span class=\"line\">        System.out.println(a2.show(b));    </span><br><span class=\"line\">        System.out.println(a2.show(c));    </span><br><span class=\"line\">        System.out.println(a2.show(d));    </span><br><span class=\"line\">        System.out.println(b.show(b));     </span><br><span class=\"line\">        System.out.println(b.show(c));     </span><br><span class=\"line\">        System.out.println(b.show(d));       </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>结果：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A and A</span><br><span class=\"line\">A and A</span><br><span class=\"line\">A and D</span><br><span class=\"line\">B and A</span><br><span class=\"line\">B and A</span><br><span class=\"line\">A and D</span><br><span class=\"line\">B and B</span><br><span class=\"line\">B and B</span><br><span class=\"line\">A and D</span><br></pre></td></tr></table></figure>\n<p>对于上边的例子，我们只需要记住两点即可：</p>\n<ol>\n<li>对于A a2 = new B()；必须是A父B子或者A接口B实现类，意思是生成一个具有A性质的B。方法的调用也是只能调用A里面的方法，除非B中重写的该方法，则可以调用B中的该方法。变量的引用也是只能引用A中的变量。</li>\n<li>对于B b = new B()；则可以理解就是生成一个B对象，等同于直接new B()。方法的调用则是父类A中有所调用的方法就调用A的，B中有所调用的方法则调用B的，B中有重写A中的方法还是调用B中的。变量的引用也如此，只要是公有的都可以引用。</li>\n</ol>\n","prev":{"title":"属于我们的0214","link":"posts/1613285792"},"next":{"title":"Jenkins自动化构建（一）玩转Android项目自动化打包","link":"posts/1612097829"},"plink":"https://blog.ixin.run/posts/1612714489/","toc":[{"id":"多态解释","title":"多态解释","index":"1"},{"id":"实现形式","title":"实现形式","index":"2"},{"id":"多态的优点","title":"多态的优点","index":"3"},{"id":"多态存在的三个必要条件","title":"多态存在的三个必要条件","index":"4"},{"id":"多态注意点","title":"多态注意点","index":"5"},{"id":"一个栗子","title":"一个栗子","index":"6"}],"reward":true,"copyright":{"author":"i猩人","link":"<a href=\"https://blog.ixin.run/posts/1612714489/\" title=\"Java多态小记\">https://blog.ixin.run/posts/1612714489/</a>","license":"本文遵循<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\"rel=\"external nofollow\" target=\"_blank\"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接及本声明。"}}